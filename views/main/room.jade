script(type='text/ng-template', id='passwordModal')
	.modal-header
		h3 {{room.name}}
	.modal-body
		form(ng-submit='$close(password)', id='passwordModalForm')
			input.hidden
			input.hidden(type='password')
			label Enter password for this room:
			input.form-control#passwordModalInput(type='password', ng-model='password', autofocus)
	.modal-footer
		button.btn.btn-info(type='submit', form='passwordModalForm') Enter
		button.btn.btn-warning(ng-click='$dismiss()') Cancel
.container-fluid
	#chatWindow(scroll-glue-bottom='scrollGlue')
		.row
			.col-md-11
				div(ng-repeat='message in messages')
					.msg(class='msg-{{message.username}}', ng-class="{'alert alert-danger': message.type==\"error\", 'alert alert-info': message.type==\"info\"}")
						.time {{message.time | date : '[HH:mm:ss] '}}
						.username {{message.username}}: 
						.text {{message.text}}
	form#messageForm(ng-submit='submit(msg)', novalidate, name='messageForm')
		.form-group
			.input-group
				input.form-control#message(size=35, placeholder='Write message...', ng-model='msg', required, ng-change='scrollGlue=false', autocomplete='off' autofocus)
				.input-group-btn
					button.btn.btn-info(type='submit') Send